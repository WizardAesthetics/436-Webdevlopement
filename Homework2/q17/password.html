<!DOCTYPE html>

<head>
    <title>University Coast</title>
    <script>
    {
        function createIdPassword(fname, lname, number) {
            document.getElementById('fnameError').style.visibility = 'hidden';
            document.getElementById('lnameError').style.visibility = 'hidden';
            document.getElementById('phoneError').style.visibility = 'hidden';
            document.getElementById('fnameError').innerHTML = '';
            document.getElementById('lnameError').innerHTML = '';
            document.getElementById('phoneError').innerHTML = '';
            if(fname.length<2){
                document.getElementById('fnameError').innerHTML = ' First name is wrong! Needs to be greater than 2 letters';
                document.getElementById('fnameError').style.visibility = 'visible';
            } 
            if(lname.length<2){
                document.getElementById('lnameError').innerHTML = ' Last name is wrong! Needs to be greater than 2 letters';
                document.getElementById('lnameError').style.visibility = 'visible';
            } 
            if (!number.search(/^(313|248|734)\-[0-9][0-9][0-9]\-[0-9][0-9][0-9][0-9]$/) == 0 || !number.length >0){
                document.getElementById('phoneError').innerHTML = ' Phone number is wrong! Formate: xxx-xxx-xxxx';
                document.getElementById('phoneError').style.visibility = 'visible';
            }
            if (fname.length >= 2 && lname.length >= 2 && number.search(/^(313|248|734)\-[0-9][0-9][0-9]\-[0-9][0-9][0-9][0-9]$/) == 0) {
                fname = fname.toUpperCase();
                lname = lname.toUpperCase();
                id = fname.substring(0,1) + lname;
                Password =  fname.substring(fname.length-1,fname.length) + lname.substring(0,3)  + number.substring(number.length-4,number.length);

                document.getElementById('IDText').innerHTML = 'ID: ' + id.toString();
                document.getElementById('PasswordText').innerHTML = 'Password: ' + Password.toString();
            }
        }
        function background(message){
            if (message == 0) {
                document.getElementById('lnameError').style.visibility = 'hidden';
            } else if (message == 1) {
                document.getElementById('fnameError').style.visibility = 'hidden';
            } else if (message == 2) {
                document.getElementById('phoneError').style.visibility = 'hidden';
            }
        }
    }
    </script>

    <style>
        div{
            position: absolute;
            left: 50%;
            margin-left: -80px;
            width: 600px;
        }â€‹
        input{
            margin-top: 10px; 
        }
        .error{
            color: red;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">Credential Generator</h1>
    <div>
        <!-- I intially had these first name / last name / phone number but the quesion in the second sentence say "the inputs are last name, first 
        name, and phone number" so I kept that order -->
        <input id ='Lname' onclick = "background(0)" placeholder="Last" maxlength = "10" type="text"/><span class = 'error' id ='lnameError'></span></span><br><br>
        <input id ='Fname' onclick = "background(1)" placeholder="First" maxlength = "10" type="text"/><span class = 'error' id ='fnameError'></span><br><br>
        <input id ='Phone' onclick = "background(2)" placeholder="734-558-8730" type="text"/><span class = 'error' id ='phoneError'></span></span><br><br>

        <button onclick ="createIdPassword(document.getElementById('Fname').value, document.getElementById('Lname').value, document.getElementById('Phone').value)">Calculate</button>

        <p id = 'IDText'>
        <p id = 'PasswordText'>
    </div>
</body>