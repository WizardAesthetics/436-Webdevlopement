<!DOCTYPE html>

<head>
    <title>University Coast</title>
    <script>
        {
            function createIdPassword() {
                fname = document.getElementById('Fname').value;
                lname = document.getElementById('Lname').value;
                number = document.getElementById('Phone').value;
                document.getElementById('Fname').style.backgroundColor = 'white';;
                document.getElementById('Lname').style.backgroundColor = 'white';;
                document.getElementById('Phone').style.backgroundColor = 'white';;

                if (fname.length < 2) {
                    document.getElementById('Fname').style.backgroundColor = 'rgb(256,0,0,.5)';
                }
                if (lname.length < 2) {
                    document.getElementById('Lname').style.backgroundColor = 'rgb(256,0,0,.5)';
                }
                if (!number.search(/^(313|248|734)\-[0-9][0-9][0-9]\-[0-9][0-9][0-9][0-9]$/) == 0 || !number.length > 0) {
                    document.getElementById('Phone').style.backgroundColor = 'rgb(256,0,0,.5)';
                }

                if (fname.length >= 2 && lname.length >= 2 && number.search(/^(313|248|734)\-[0-9][0-9][0-9]\-[0-9][0-9][0-9][0-9]$/) == 0) {
                    fname = fname.toUpperCase();
                    lname = lname.toUpperCase();
                    id = fname.substring(0, 1) + lname;
                    Password = fname.substring(fname.length - 1, fname.length) + lname.substring(0, 3) + number.substring(number.length - 4, number.length);
                    document.getElementById('IDText').innerHTML = 'ID: ' + id.toString();
                    document.getElementById('PasswordText').innerHTML = 'Password: ' + Password.toString();
                }
            }

            function setMessage(message) {

                if (message == 1) {
                    document.getElementById('fnameError').innerHTML = 'Needs to be greater than 2 letters';
                    document.getElementById('fnameError').style.visibility = 'visible';
                } else if (message == 2) {
                    document.getElementById('lnameError').innerHTML = 'Needs to be greater than 2 letters';
                    document.getElementById('lnameError').style.visibility = 'visible';

                } else if (message == 3) {
                    document.getElementById('phoneError').innerHTML = 'Formate: xxx-xxx-xxxx';
                    document.getElementById('phoneError').style.visibility = 'visible';
                }
            }

            function reset(message) {
                document.getElementById('fnameError').style.visibility = 'hidden';
                document.getElementById('lnameError').style.visibility = 'hidden';
                document.getElementById('phoneError').style.visibility = 'hidden';
                document.getElementById('fnameError').innerHTML = '';
                document.getElementById('lnameError').innerHTML = '';
                document.getElementById('phoneError').innerHTML = '';
            }
        
            function background(message){
                if (message == 0) {
                    document.getElementById('Lname').style.backgroundColor = 'white';
                } else if (message == 1) {
                    document.getElementById('Fname').style.backgroundColor = 'white';
                } else if (message == 2) {
                    document.getElementById('Phone').style.backgroundColor = 'white';
                }
            }
        
        
        }
    </script>

    <style>
        
        div{
            position: absolute;
            left: 50%;
            margin-left: -80px;
            width: 400px;
        }â€‹

        input{
            margin-top: 10px; 
        }


    </style>
</head>

<body>
    <h1 style="text-align: center;">Credential Generator</h1>
    <div>
        <input id='Lname' placeholder="Last" onclick = "background(0)" onchange="createIdPassword()" onmouseover="setMessage(2)" onmouseout="reset(2)"
            maxlength="10" type="text" />
        <span id='lnameError'></span><br><br>
        <input id='Fname' placeholder="First" onclick = "background(1)" onchange="createIdPassword()" onmouseover="setMessage(1)" onmouseout="reset(1)"
            maxlength="10" type="text" />
        <span id='fnameError'></span><br><br>
        <input id='Phone' placeholder="734-558-8730" onclick = "background(2)" onchange="createIdPassword()" onmouseover="setMessage(3)"
            onmouseout="reset(4)" type="text" />
        <span id='phoneError'></span>
        <p id='IDText'></p>
        <p id='PasswordText'></p>
    </div>
</body>